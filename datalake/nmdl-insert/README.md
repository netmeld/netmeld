DESCRIPTION
===========

The `nmdl-insert` tool is utilized to insert new data into the data lake.  All
stored data is required to be associated, at least, by a `device-id`.

In terms of an ingest script generated by the `nmdl-list` tool, the following
options will alter behavior:
* `--device-id`: The given value is passed as the value for Netmeld Import
module tools' equivalent option.
* `--tool`: Currently, this will cause a file with the associated data to be
added to the end of the full ingest tool command (i.e., `tool tool-args file`).
This enables a given command to operate on the targeted data.


EXAMPLES
========

Add the, not-to-be processed by other tools, file `general_notes.txt` for
`device001`.
```
nmdl-insert --device-id device001 ./general_notes.txt
```

Add a `hosts` file for `device001` and associate it to the `nmdb-import-hosts`
tool.
```
nmdl-insert --device-id device001 --tool nmdb-import-hosts ./hosts
```

Same as above, but provide arguments to the tool.
```
nmdl-insert --device-id device001 --tool nmdb-import-hosts ./hosts \
    --tool-args '--device-type workstation --device-color blue'
```

Run the `ip addr show` command and pipe the output to the tool saving it in
the lake as `ip_addr_show.txt`.
```
ip addr show | nmdl-insert --device-id device001 --pipe --rename ip_addr_show.txt
```

Add the file `some-data-file` for `device001` with a custom tool command which
will perform some operation (e.g., `echo` the file lines) on the file during
execution of the ingest script.
```
nmdl-insert --device-id device001 ./some-data-file \
    --tool 'while read -r line; do echo $line; done <'
```
